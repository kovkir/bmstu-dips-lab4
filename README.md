# bmstu-dips-lab4
üê¨ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ú–ì–¢–£ –∏–º. –ë–∞—É–º–∞–Ω–∞.

## Deploy to Cloud

### –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞

–ù–∞ –±–∞–∑–µ [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã #2](https://github.com/bmstu-rsoi/lab2-template) –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ managed
–∫–ª–∞—Å—Ç–µ—Ä k8s.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏–∑ –õ–† #2 –≤ –ø—Ä–æ–µ–∫—Ç.
2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ä—É–∫–∞–º–∏ —Å–≤–æ–π Managed Kubernetes Cluster, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Ingress Controller (–¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞—Ä—É–∂—É –º–æ–∂–Ω–æ
   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _—Ç–æ–ª—å–∫–æ_ Ingress).
4. –°–æ–±—Ä–∞—Ç—å –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑—ã docker –≤ [Docker Registry](https://hub.docker.com/).
5. –û–ø–∏—Å–∞—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è –≤ –≤–∏–¥–µ [helm charts](https://helm.sh/docs/topics/charts/), –æ–Ω–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º
   –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –ª–∏—à—å –Ω–∞–±–æ—Ä–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—É—Å–∫–∞.
6. –í –∫–ª–∞—Å—Ç–µ—Ä–µ k8s –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π instance –±–∞–∑—ã, –Ω–æ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–æ–µ–π
   –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –±–∞–∑—É –≤ –∫–ª–∞—Å—Ç–µ—Ä –º–æ–∂–Ω–æ —Ä—É–∫–∞–º–∏, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–π helm chart.
7. –ö–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ Github, –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Github Actions.
8. –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤ —Ç–µ—Å—Ç–æ–≤ –≤ —Ñ–∞–π–ª–µ [autograding.json](.github/classroom/autograding.json)
   –∏ [classroom.yml](.github/workflows/classroom.yml) –∑–∞–º–µ–Ω–∏—Ç—å `<variant>` –Ω–∞ –≤–∞—à –≤–∞—Ä–∏–∞–Ω—Ç.
9. –í [classroom.yml](.github/workflows/classroom.yml) –¥–æ–ø–∏—Å–∞—Ç—å —à–∞–≥–∏:
    1. —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
    2. —Å–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–∞ docker (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `docker compose build`, `docker compose push`);
    3. –¥–µ–ø–ª–æ–π –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä k8s.

### –ü–æ—è—Å–Ω–µ–Ω–∏—è

–¢.–∫. —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –º–∞—à–∏–Ω–∞—Ö –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Managed
Kubernetes Cluster, —Ç.–µ. –≥–æ—Ç–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä k8s, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä:

* [Digital Ocean](https://www.digitalocean.com/products/kubernetes/)
* [Yandex Cloud](https://cloud.yandex.ru/services/managed-kubernetes)
* [Google Kubernetes Engine](https://cloud.google.com/kubernetes-engine)
* [AWS](https://aws.amazon.com/ru/eks/)

–ü–ª–∞—Ç—Ñ–æ—Ä–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç Kubernetes as a Service –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä—ã–Ω–æ–∫ –∏ –≤—ã–±—Ä–∞—Ç—å
–¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —É—Å–ª—É–≥. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏–º–µ—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç—Ä–∏–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏–ª–∏ –¥–µ–Ω–µ–∂–Ω—ã–π –≥—Ä–∞–Ω—Ç.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 2-3 worker –Ω–æ–¥—ã 2Gb, 1CPU.

### –ü—Ä–∏–µ–º –∑–∞–¥–∞–Ω–∏—è

1. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è —É –≤–∞—Å —Å–æ–∑–¥–∞–µ—Ç—Å—è fork —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
2. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è, –≤ Github Classroom –Ω–∞ Dashboard –±—É–¥–µ—Ç –æ—Ç–º–µ—á–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
   —Ç–µ—Å—Ç–æ–≤.

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–¥–∞–Ω–∏–π

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞–¥–∞–Ω–∏–π –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ [–õ–† #2](https://github.com/bmstu-rsoi/lab2-template).
